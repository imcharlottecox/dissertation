import"../chunks/DsnmJJEf.js";import{i as ea}from"../chunks/BTGwZlOP.js";import{o as ra,s as B}from"../chunks/DUppubXp.js";import{aC as oa,aD as sa,aE as na,b as ia,h as V,a as la,e as fa,f as ca,g as Ca,i as ma,k as da,U as _a,p as va,a2 as pa,ai as ga,aj as ha,X as ba,Y as X,Z as b,a3 as ua,t as a,z as Y,_ as W,$ as A,a4 as F,aF as Z,ax as k,a0 as w,aB as G,u,V as o,ap as i}from"../chunks/BoqFzqd8.js";import{i as J}from"../chunks/BOhKbuFS.js";import{e as K,i as O}from"../chunks/Bp7G4JeZ.js";import{s}from"../chunks/DSVHy22u.js";import{b as xa}from"../chunks/DJtt0LSM.js";import"../chunks/B2nU15ES.js";import{z as Ea,s as Q}from"../chunks/CsbEx7zF.js";function ya(I,R,q){V&&la();var _=I,D=_a,C,P,l=null,m=oa()?sa:na;function x(){C&&va(C),l!==null&&(l.lastChild.remove(),_.before(l),l=null),C=P}ia(()=>{if(m(D,D=R())){var E=_,v=ma();v&&(l=document.createDocumentFragment(),l.append(E=fa())),P=ca(()=>q(E)),v?Ca.add_callback(x):x()}}),V&&(_=da)}var Ta=Z('<line stroke="black"></line><text text-anchor="middle" font-size="10" fill="black"> </text>',1),Aa=Z('<circle></circle><text text-anchor="middle" font-size="10"> </text>',1),ka=Z("<!><!>",1),wa=ba('<main><h1>FSM Transitions</h1> <svg height="600" class="svelte-19ehjfe"><g class="content"><!></g></svg></main>');function La(I,R){pa(R,!1);const q=["Cat","Car","Cart","Carton","Cats","Cars","Carts","Cartons","ACCEPT"],_=["START","C","Ca","Cat","Cats","Car","Cars","Cart","Carts","Carto","Carton","Cartons"],D=[{from:"START",to:"C",label:"C"},{from:"C",to:"Ca",label:"a"},{from:"Ca",to:"Cat",label:"t"},{from:"Ca",to:"Car",label:"r"},{from:"Cat",to:"ACCEPT",label:"END"},{from:"Cat",to:"Cats",label:"s"},{from:"Cats",to:"ACCEPT",label:"END"},{from:"Car",to:"ACCEPT",label:"END"},{from:"Car",to:"Cart",label:"t"},{from:"Car",to:"Cars",label:"s"},{from:"Cars",to:"ACCEPT",label:"END"},{from:"Cart",to:"ACCEPT",label:"END"},{from:"Cart",to:"Carts",label:"s"},{from:"Carts",to:"ACCEPT",label:"END"},{from:"Cart",to:"Carto",label:"o"},{from:"Carto",to:"Carton",label:"n"},{from:"Carton",to:"ACCEPT",label:"END"},{from:"Carton",to:"Cartons",label:"s"},{from:"Cartons",to:"ACCEPT",label:"END"}],C=600,P=20,l=120;let m=Y(1250),x=Y(0),E=new Map,v=Y();ra(()=>{F(m,window.innerWidth*.9);const f=Ea().on("zoom",r=>{Q(a(v)).select("g.content").attr("transform",r.transform)});Q(a(v)).call(f);const d=()=>{F(m,window.innerWidth*.9)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)});function L(f){return E.get(f)}ga(()=>a(m),()=>{if(a(m)){const f=a(m)-2*l,d=_.length;_.forEach((r,U)=>{const y=l+U/(d-1)*f;let e;r==="START"||r==="C"||r==="Ca"||r==="Car"||r==="Cart"||r.startsWith("Carto")?e=C*.5:r==="Cat"||r==="Cats"?e=C*.3:r==="Cars"||r==="Carts"?e=C*.7:e=C*.5,E.set(r,{x:y,y:e})}),F(x,Date.now())}}),ha(),ea();var M=wa(),z=W(A(M),2),$=A(z),aa=A($);ya(aa,()=>a(x),f=>{var d=ka(),r=k(d);K(r,1,()=>D,O,(y,e)=>{const t=u(()=>(a(e),o(()=>L(a(e).from)))),n=u(()=>(a(e),o(()=>L(a(e).to))));var T=G(),j=k(T);{var H=p=>{const N=u(()=>(i(a(t)),i(a(n)),o(()=>(a(t).x+a(n).x)/2))),c=u(()=>(i(a(t)),i(a(n)),o(()=>(a(t).y+a(n).y)/2-8)));var g=Ta(),h=k(g),S=W(h),ta=A(S,!0);w(S),X(()=>{s(h,"x1",(i(a(t)),o(()=>a(t).x))),s(h,"y1",(i(a(t)),o(()=>a(t).y))),s(h,"x2",(i(a(n)),o(()=>a(n).x))),s(h,"y2",(i(a(n)),o(()=>a(n).y))),s(S,"x",a(N)),s(S,"y",a(c)),B(ta,(a(e),o(()=>a(e).label)))}),b(p,g)};J(j,p=>{a(t)&&a(n)&&p(H)})}b(y,T)});var U=W(r);K(U,1,()=>_,O,(y,e)=>{const t=u(()=>(a(e),o(()=>L(a(e))))),n=u(()=>(a(e),o(()=>q.includes(a(e)))));var T=G(),j=k(T);{var H=p=>{var N=Aa(),c=k(N);s(c,"r",P),s(c,"stroke","black");var g=W(c),h=A(g,!0);w(g),X(()=>{s(c,"cx",(i(a(t)),o(()=>a(t).x))),s(c,"cy",(i(a(t)),o(()=>a(t).y))),s(c,"fill",a(n)?"lightgreen":"lightblue"),s(c,"stroke-width",a(n)?3:.5),s(g,"x",(i(a(t)),o(()=>a(t).x))),s(g,"y",(i(a(t)),o(()=>a(t).y+4))),B(h,a(e))}),b(p,N)};J(j,p=>{a(t)&&p(H)})}b(y,T)}),b(f,d)}),w($),w(z),xa(z,f=>F(v,f),()=>a(v)),w(M),X(()=>s(z,"width",a(m))),b(I,M),ua()}export{La as component};
