import"../chunks/DsnmJJEf.js";import{i as w}from"../chunks/BTGwZlOP.js";import{o as z}from"../chunks/DUppubXp.js";import{a2 as S,ai as k,aj as W,X as j,Z as M,a3 as R,t as r,z as x,_ as L,$,a4 as d,a0 as I}from"../chunks/BoqFzqd8.js";import{b as F}from"../chunks/DJtt0LSM.js";import"../chunks/B2nU15ES.js";import{s as G,z as H}from"../chunks/CsbEx7zF.js";import{d as X}from"../chunks/B-ELdldP.js";var Z=j('<main><h1>FSM Transitions (Interactive D3 Imperative)</h1> <svg class="svelte-1cn6wfu"></svg></main>');function Y(T,y){S(y,!1);const g=["Cat","Car","Cart","Carton","Cats","Cars","Carts","Cartons","ACCEPT"],b=["START","C","Ca","Cat","Cats","Car","Cars","Cart","Carts","Carto","Carton","Cartons"],A=[{from:"START",to:"C",label:"C"},{from:"C",to:"Ca",label:"a"},{from:"Ca",to:"Cat",label:"t"},{from:"Ca",to:"Car",label:"r"},{from:"Cat",to:"ACCEPT",label:"END"},{from:"Cat",to:"Cats",label:"s"},{from:"Cats",to:"ACCEPT",label:"END"},{from:"Car",to:"ACCEPT",label:"END"},{from:"Car",to:"Cart",label:"t"},{from:"Car",to:"Cars",label:"s"},{from:"Cars",to:"ACCEPT",label:"END"},{from:"Cart",to:"ACCEPT",label:"END"},{from:"Cart",to:"Carts",label:"s"},{from:"Carts",to:"ACCEPT",label:"END"},{from:"Cart",to:"Carto",label:"o"},{from:"Carto",to:"Carton",label:"n"},{from:"Carton",to:"ACCEPT",label:"END"},{from:"Carton",to:"Cartons",label:"s"},{from:"Cartons",to:"ACCEPT",label:"END"}],n=600,v=20,u=80;let l=x(1250),e=x(),i=[],_=A;function D(){const o=r(l)-2*u,C=b.length;i=b.map((a,s)=>{const m=u+s/(C-1)*o;let f=a==="START"||a==="C"||a==="Ca"||a==="Car"||a==="Cart"||a.startsWith("Carto")?n*.5:a==="Cat"||a==="Cats"?n*.3:a==="Cars"||a==="Carts"?n*.7:n*.5;return{id:a,x:m,y:f}})}function P(){if(!r(e))return;const o=G(r(e));o.selectAll(".content-group").remove();const C=new Map(i.map(t=>[t.id,t])),a=_.map(t=>({label:t.label,source:C.get(t.from),target:C.get(t.to)})).filter(t=>t.source&&t.target),s=o.append("g").attr("class","content-group");o.call(H().on("zoom",t=>s.attr("transform",t.transform)));const m=s.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(a).join("line").attr("stroke-width",1.5),f=s.append("g").selectAll("text").data(a).join("text").attr("font-size",10).attr("fill","#555").text(t=>t.label),p=s.append("g").selectAll("g").data(i,t=>t.id).join("g").call(X().on("drag",(t,E)=>{E.x=t.x,E.y=t.y,h()}));p.append("circle").attr("r",v).attr("fill",t=>g.includes(t.id)?"lightgreen":"lightblue").attr("stroke","#333").attr("stroke-width",t=>g.includes(t.id)?3:.5),p.append("text").attr("text-anchor","middle").attr("dy",4).attr("font-size",12).text(t=>t.id);function h(){m.attr("x1",t=>t.source.x).attr("y1",t=>t.source.y).attr("x2",t=>t.target.x).attr("y2",t=>t.target.y),f.attr("x",t=>(t.source.x+t.target.x)/2).attr("y",t=>(t.source.y+t.target.y)/2),p.attr("transform",t=>`translate(${t.x},${t.y})`)}h()}z(()=>{d(l,r(e).clientWidth),window.addEventListener("resize",()=>{d(l,r(e).clientWidth)})}),k(()=>r(l),()=>{r(l)&&(D(),P())}),W(),w();var c=Z(),N=L($(c),2);F(N,o=>d(e,o),()=>r(e)),I(c),M(T,c),R()}export{Y as component};
